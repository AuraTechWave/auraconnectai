<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Comprehensive restaurant management platform documentation"><meta name=author content=AuraTechWave><link href=https://docs.auraconnect.com/modules/orders/architecture/ rel=canonical><link rel=icon href=../../../assets/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.21"><title>Orders Module Architecture - AuraConnect Documentation</title><link rel=stylesheet href=../../../assets/stylesheets/main.2a3383ac.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-XXXXXXXXXX"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-XXXXXXXXXX",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#orders-module-architecture class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="AuraConnect Documentation" class="md-header__button md-logo" aria-label="AuraConnect Documentation" data-md-component=logo> <img src=../../../assets/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> AuraConnect Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Orders Module Architecture </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/AuraTechWave/auraconnectai title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> auraconnectai </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../guides/getting-started/ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../../ class=md-tabs__link> Core Modules </a> </li> <li class=md-tabs__item> <a href=../../../architecture/ class=md-tabs__link> Architecture </a> </li> <li class=md-tabs__item> <a href=../../../api/ class=md-tabs__link> API Reference </a> </li> <li class=md-tabs__item> <a href=../../../feature_docs/ class=md-tabs__link> Feature Documentation </a> </li> <li class=md-tabs__item> <a href=../../../deployment/ class=md-tabs__link> Deployment </a> </li> <li class=md-tabs__item> <a href=../../../dev/ class=md-tabs__link> Developer Guide </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="AuraConnect Documentation" class="md-nav__button md-logo" aria-label="AuraConnect Documentation" data-md-component=logo> <img src=../../../assets/logo.png alt=logo> </a> AuraConnect Documentation </label> <div class=md-nav__source> <a href=https://github.com/AuraTechWave/auraconnectai title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> auraconnectai </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../guides/getting-started/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../ class=md-nav__link> <span class=md-ellipsis> Core Modules </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../architecture/ class=md-nav__link> <span class=md-ellipsis> Architecture </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../api/ class=md-nav__link> <span class=md-ellipsis> API Reference </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../feature_docs/ class=md-nav__link> <span class=md-ellipsis> Feature Documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../deployment/ class=md-nav__link> <span class=md-ellipsis> Deployment </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../dev/ class=md-nav__link> <span class=md-ellipsis> Developer Guide </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=orders-module-architecture>Orders Module Architecture<a class=headerlink href=#orders-module-architecture title="Permanent link">&para;</a></h1> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link">&para;</a></h2> <p>The Orders module follows a domain-driven design (DDD) approach with clear separation between the API layer, business logic, and data persistence. It's designed for high throughput, real-time updates, and seamless integration with other AuraConnect modules.</p> <h2 id=architecture-principles>Architecture Principles<a class=headerlink href=#architecture-principles title="Permanent link">&para;</a></h2> <ol> <li><strong>Event-Driven</strong>: All state changes trigger events for real-time updates</li> <li><strong>Idempotent Operations</strong>: Safe retry mechanisms for critical operations</li> <li><strong>Eventual Consistency</strong>: Asynchronous updates for non-critical paths</li> <li><strong>Fault Tolerance</strong>: Graceful degradation when dependencies are unavailable</li> <li><strong>Scalability</strong>: Horizontal scaling support through stateless design</li> </ol> <h2 id=system-components>System Components<a class=headerlink href=#system-components title="Permanent link">&para;</a></h2> <h3 id=1-api-layer>1. API Layer<a class=headerlink href=#1-api-layer title="Permanent link">&para;</a></h3> <pre class=mermaid><code>graph LR
    subgraph "API Gateway"
        NGINX[Nginx]
        AUTH[Auth Middleware]
        RATE[Rate Limiter]
    end

    subgraph "Order API"
        ROUTES[FastAPI Routes]
        VALID[Request Validator]
        SERIAL[Serializers]
    end

    subgraph "Business Logic"
        SVC[Order Service]
        PROC[Order Processor]
        STATE[State Machine]
    end

    NGINX --&gt; AUTH
    AUTH --&gt; RATE
    RATE --&gt; ROUTES
    ROUTES --&gt; VALID
    VALID --&gt; SERIAL
    SERIAL --&gt; SVC
    SVC --&gt; PROC
    PROC --&gt; STATE</code></pre> <h3 id=2-core-services>2. Core Services<a class=headerlink href=#2-core-services title="Permanent link">&para;</a></h3> <h4 id=order-service>Order Service<a class=headerlink href=#order-service title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>OrderService</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> 
                 <span class=n>order_repo</span><span class=p>:</span> <span class=n>OrderRepository</span><span class=p>,</span>
                 <span class=n>menu_client</span><span class=p>:</span> <span class=n>MenuServiceClient</span><span class=p>,</span>
                 <span class=n>inventory_client</span><span class=p>:</span> <span class=n>InventoryServiceClient</span><span class=p>,</span>
                 <span class=n>payment_client</span><span class=p>:</span> <span class=n>PaymentServiceClient</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>order_repo</span> <span class=o>=</span> <span class=n>order_repo</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>menu_client</span> <span class=o>=</span> <span class=n>menu_client</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>inventory_client</span> <span class=o>=</span> <span class=n>inventory_client</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>payment_client</span> <span class=o>=</span> <span class=n>payment_client</span>

    <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>create_order</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order_data</span><span class=p>:</span> <span class=n>OrderCreate</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Order</span><span class=p>:</span>
        <span class=c1># Validate menu items</span>
        <span class=c1># Check inventory</span>
        <span class=c1># Calculate pricing</span>
        <span class=c1># Create order</span>
        <span class=c1># Publish event</span>
        <span class=k>pass</span>
</code></pre></div> <h4 id=state-management>State Management<a class=headerlink href=#state-management title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>OrderStateMachine</span><span class=p>:</span>
    <span class=n>TRANSITIONS</span> <span class=o>=</span> <span class=p>{</span>
        <span class=n>OrderStatus</span><span class=o>.</span><span class=n>PENDING</span><span class=p>:</span> <span class=p>[</span><span class=n>OrderStatus</span><span class=o>.</span><span class=n>CONFIRMED</span><span class=p>,</span> <span class=n>OrderStatus</span><span class=o>.</span><span class=n>CANCELLED</span><span class=p>],</span>
        <span class=n>OrderStatus</span><span class=o>.</span><span class=n>CONFIRMED</span><span class=p>:</span> <span class=p>[</span><span class=n>OrderStatus</span><span class=o>.</span><span class=n>PREPARING</span><span class=p>,</span> <span class=n>OrderStatus</span><span class=o>.</span><span class=n>CANCELLED</span><span class=p>],</span>
        <span class=n>OrderStatus</span><span class=o>.</span><span class=n>PREPARING</span><span class=p>:</span> <span class=p>[</span><span class=n>OrderStatus</span><span class=o>.</span><span class=n>READY</span><span class=p>,</span> <span class=n>OrderStatus</span><span class=o>.</span><span class=n>CANCELLED</span><span class=p>],</span>
        <span class=n>OrderStatus</span><span class=o>.</span><span class=n>READY</span><span class=p>:</span> <span class=p>[</span><span class=n>OrderStatus</span><span class=o>.</span><span class=n>COMPLETED</span><span class=p>],</span>
        <span class=n>OrderStatus</span><span class=o>.</span><span class=n>COMPLETED</span><span class=p>:</span> <span class=p>[],</span>
        <span class=n>OrderStatus</span><span class=o>.</span><span class=n>CANCELLED</span><span class=p>:</span> <span class=p>[]</span>
    <span class=p>}</span>

    <span class=k>def</span><span class=w> </span><span class=nf>transition</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order</span><span class=p>:</span> <span class=n>Order</span><span class=p>,</span> <span class=n>new_status</span><span class=p>:</span> <span class=n>OrderStatus</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Order</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>new_status</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>TRANSITIONS</span><span class=p>[</span><span class=n>order</span><span class=o>.</span><span class=n>status</span><span class=p>]:</span>
            <span class=k>raise</span> <span class=n>InvalidStateTransition</span><span class=p>()</span>

        <span class=n>order</span><span class=o>.</span><span class=n>status</span> <span class=o>=</span> <span class=n>new_status</span>
        <span class=n>order</span><span class=o>.</span><span class=n>status_history</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>StatusChange</span><span class=p>(</span>
            <span class=n>from_status</span><span class=o>=</span><span class=n>order</span><span class=o>.</span><span class=n>status</span><span class=p>,</span>
            <span class=n>to_status</span><span class=o>=</span><span class=n>new_status</span><span class=p>,</span>
            <span class=n>timestamp</span><span class=o>=</span><span class=n>datetime</span><span class=o>.</span><span class=n>utcnow</span><span class=p>()</span>
        <span class=p>))</span>

        <span class=k>return</span> <span class=n>order</span>
</code></pre></div> <h3 id=3-data-layer>3. Data Layer<a class=headerlink href=#3-data-layer title="Permanent link">&para;</a></h3> <h4 id=repository-pattern>Repository Pattern<a class=headerlink href=#repository-pattern title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>OrderRepository</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>db</span><span class=p>:</span> <span class=n>Database</span><span class=p>,</span> <span class=n>cache</span><span class=p>:</span> <span class=n>Redis</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>db</span> <span class=o>=</span> <span class=n>db</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>cache</span> <span class=o>=</span> <span class=n>cache</span>

    <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>create</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order</span><span class=p>:</span> <span class=n>Order</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Order</span><span class=p>:</span>
        <span class=c1># Save to database</span>
        <span class=c1># Update cache</span>
        <span class=c1># Return created order</span>
        <span class=k>pass</span>

    <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>get_by_id</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order_id</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Order</span><span class=p>]:</span>
        <span class=c1># Check cache first</span>
        <span class=c1># Fallback to database</span>
        <span class=c1># Update cache if found</span>
        <span class=k>pass</span>
</code></pre></div> <h4 id=database-schema>Database Schema<a class=headerlink href=#database-schema title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><span class=c1>-- Orders table</span>
<span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>orders</span><span class=w> </span><span class=p>(</span>
<span class=w>    </span><span class=n>id</span><span class=w> </span><span class=nb>SERIAL</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span>
<span class=w>    </span><span class=n>tenant_id</span><span class=w> </span><span class=nb>INTEGER</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span>
<span class=w>    </span><span class=n>order_number</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>50</span><span class=p>)</span><span class=w> </span><span class=k>UNIQUE</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span>
<span class=w>    </span><span class=n>customer_id</span><span class=w> </span><span class=nb>INTEGER</span><span class=p>,</span>
<span class=w>    </span><span class=n>location_id</span><span class=w> </span><span class=nb>INTEGER</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span>
<span class=w>    </span><span class=n>order_type</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span>
<span class=w>    </span><span class=n>status</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span>
<span class=w>    </span><span class=n>subtotal</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span>
<span class=w>    </span><span class=n>tax_amount</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span>
<span class=w>    </span><span class=n>total_amount</span><span class=w> </span><span class=nb>DECIMAL</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=p>,</span>
<span class=w>    </span><span class=n>created_at</span><span class=w> </span><span class=k>TIMESTAMP</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=n>NOW</span><span class=p>(),</span>
<span class=w>    </span><span class=n>updated_at</span><span class=w> </span><span class=k>TIMESTAMP</span><span class=w> </span><span class=k>NOT</span><span class=w> </span><span class=k>NULL</span><span class=w> </span><span class=k>DEFAULT</span><span class=w> </span><span class=n>NOW</span><span class=p>(),</span>
<span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>tenant_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>tenants</span><span class=p>(</span><span class=n>id</span><span class=p>),</span>
<span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>customer_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>customers</span><span class=p>(</span><span class=n>id</span><span class=p>),</span>
<span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>location_id</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>locations</span><span class=p>(</span><span class=n>id</span><span class=p>)</span>
<span class=p>);</span>

<span class=c1>-- Indexes for performance</span>
<span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_orders_tenant_status</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>orders</span><span class=p>(</span><span class=n>tenant_id</span><span class=p>,</span><span class=w> </span><span class=n>status</span><span class=p>);</span>
<span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_orders_created_at</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>orders</span><span class=p>(</span><span class=n>created_at</span><span class=w> </span><span class=k>DESC</span><span class=p>);</span>
<span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>idx_orders_customer</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>orders</span><span class=p>(</span><span class=n>customer_id</span><span class=p>);</span>
</code></pre></div> <h3 id=4-event-system>4. Event System<a class=headerlink href=#4-event-system title="Permanent link">&para;</a></h3> <pre class=mermaid><code>graph TD
    subgraph "Order Events"
        CREATE[order.created]
        UPDATE[order.updated]
        STATUS[order.status_changed]
    end

    subgraph "Event Bus"
        REDIS[Redis Pub/Sub]
        CELERY[Celery Tasks]
    end

    subgraph "Subscribers"
        KITCHEN[Kitchen Service]
        INVENTORY[Inventory Service]
        ANALYTICS[Analytics Service]
        NOTIFY[Notification Service]
    end

    CREATE --&gt; REDIS
    UPDATE --&gt; REDIS
    STATUS --&gt; REDIS

    REDIS --&gt; KITCHEN
    REDIS --&gt; INVENTORY
    REDIS --&gt; ANALYTICS
    REDIS --&gt; NOTIFY

    STATUS --&gt; CELERY
    CELERY --&gt; INVENTORY</code></pre> <h4 id=event-publishing>Event Publishing<a class=headerlink href=#event-publishing title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>OrderEventPublisher</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>redis_client</span><span class=p>:</span> <span class=n>Redis</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>redis</span> <span class=o>=</span> <span class=n>redis_client</span>

    <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>publish_order_created</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order</span><span class=p>:</span> <span class=n>Order</span><span class=p>):</span>
        <span class=n>event</span> <span class=o>=</span> <span class=p>{</span>
            <span class=s2>&quot;event_type&quot;</span><span class=p>:</span> <span class=s2>&quot;order.created&quot;</span><span class=p>,</span>
            <span class=s2>&quot;timestamp&quot;</span><span class=p>:</span> <span class=n>datetime</span><span class=o>.</span><span class=n>utcnow</span><span class=p>()</span><span class=o>.</span><span class=n>isoformat</span><span class=p>(),</span>
            <span class=s2>&quot;data&quot;</span><span class=p>:</span> <span class=p>{</span>
                <span class=s2>&quot;order_id&quot;</span><span class=p>:</span> <span class=n>order</span><span class=o>.</span><span class=n>id</span><span class=p>,</span>
                <span class=s2>&quot;order_number&quot;</span><span class=p>:</span> <span class=n>order</span><span class=o>.</span><span class=n>order_number</span><span class=p>,</span>
                <span class=s2>&quot;customer_id&quot;</span><span class=p>:</span> <span class=n>order</span><span class=o>.</span><span class=n>customer_id</span><span class=p>,</span>
                <span class=s2>&quot;total_amount&quot;</span><span class=p>:</span> <span class=nb>str</span><span class=p>(</span><span class=n>order</span><span class=o>.</span><span class=n>total_amount</span><span class=p>),</span>
                <span class=s2>&quot;items&quot;</span><span class=p>:</span> <span class=p>[</span><span class=n>item</span><span class=o>.</span><span class=n>dict</span><span class=p>()</span> <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>order</span><span class=o>.</span><span class=n>items</span><span class=p>]</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>redis</span><span class=o>.</span><span class=n>publish</span><span class=p>(</span>
            <span class=sa>f</span><span class=s2>&quot;orders:</span><span class=si>{</span><span class=n>order</span><span class=o>.</span><span class=n>tenant_id</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span>
            <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>event</span><span class=p>)</span>
        <span class=p>)</span>
</code></pre></div> <h3 id=5-integration-architecture>5. Integration Architecture<a class=headerlink href=#5-integration-architecture title="Permanent link">&para;</a></h3> <pre class=mermaid><code>graph TB
    subgraph "Orders Module"
        ORDER_API[Order API]
        ORDER_SVC[Order Service]
        ORDER_DB[(Order DB)]
    end

    subgraph "External Services"
        MENU[Menu Service]
        INV[Inventory Service]
        PAY[Payment Service]
        CUST[Customer Service]
    end

    subgraph "Integration Layer"
        CLIENT[Service Clients]
        CIRCUIT[Circuit Breaker]
        RETRY[Retry Logic]
    end

    ORDER_SVC --&gt; CLIENT
    CLIENT --&gt; CIRCUIT
    CIRCUIT --&gt; RETRY

    RETRY --&gt; MENU
    RETRY --&gt; INV
    RETRY --&gt; PAY
    RETRY --&gt; CUST</code></pre> <h4 id=service-client-example>Service Client Example<a class=headerlink href=#service-client-example title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>MenuServiceClient</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>base_url</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>timeout</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>5</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>base_url</span> <span class=o>=</span> <span class=n>base_url</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>timeout</span> <span class=o>=</span> <span class=n>timeout</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>circuit_breaker</span> <span class=o>=</span> <span class=n>CircuitBreaker</span><span class=p>(</span>
            <span class=n>failure_threshold</span><span class=o>=</span><span class=mi>5</span><span class=p>,</span>
            <span class=n>recovery_timeout</span><span class=o>=</span><span class=mi>30</span>
        <span class=p>)</span>

    <span class=nd>@retry</span><span class=p>(</span><span class=n>max_attempts</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>backoff</span><span class=o>=</span><span class=n>exponential_backoff</span><span class=p>)</span>
    <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>validate_items</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>items</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>OrderItem</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>ValidationResult</span><span class=p>:</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>circuit_breaker</span><span class=o>.</span><span class=n>is_closed</span><span class=p>():</span>
            <span class=k>raise</span> <span class=n>ServiceUnavailable</span><span class=p>(</span><span class=s2>&quot;Menu service is unavailable&quot;</span><span class=p>)</span>

        <span class=k>try</span><span class=p>:</span>
            <span class=n>response</span> <span class=o>=</span> <span class=k>await</span> <span class=n>httpx</span><span class=o>.</span><span class=n>post</span><span class=p>(</span>
                <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>base_url</span><span class=si>}</span><span class=s2>/validate&quot;</span><span class=p>,</span>
                <span class=n>json</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;items&quot;</span><span class=p>:</span> <span class=p>[</span><span class=n>item</span><span class=o>.</span><span class=n>dict</span><span class=p>()</span> <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>items</span><span class=p>]},</span>
                <span class=n>timeout</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>timeout</span>
            <span class=p>)</span>
            <span class=n>response</span><span class=o>.</span><span class=n>raise_for_status</span><span class=p>()</span>
            <span class=k>return</span> <span class=n>ValidationResult</span><span class=p>(</span><span class=o>**</span><span class=n>response</span><span class=o>.</span><span class=n>json</span><span class=p>())</span>
        <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>circuit_breaker</span><span class=o>.</span><span class=n>record_failure</span><span class=p>()</span>
            <span class=k>raise</span>
</code></pre></div> <h3 id=6-caching-strategy>6. Caching Strategy<a class=headerlink href=#6-caching-strategy title="Permanent link">&para;</a></h3> <pre class=mermaid><code>graph LR
    subgraph "Cache Layers"
        L1[Application Cache]
        L2[Redis Cache]
        L3[Database]
    end

    subgraph "Cache Patterns"
        ASIDE[Cache Aside]
        THROUGH[Write Through]
        BEHIND[Write Behind]
    end

    REQUEST[API Request] --&gt; L1
    L1 --&gt;|Miss| L2
    L2 --&gt;|Miss| L3

    L3 --&gt;|Data| L2
    L2 --&gt;|Data| L1
    L1 --&gt;|Response| REQUEST

    ASIDE --&gt; L1
    THROUGH --&gt; L2
    BEHIND --&gt; L3</code></pre> <h4 id=cache-implementation>Cache Implementation<a class=headerlink href=#cache-implementation title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>OrderCache</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>redis</span><span class=p>:</span> <span class=n>Redis</span><span class=p>,</span> <span class=n>ttl</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>1800</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>redis</span> <span class=o>=</span> <span class=n>redis</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>ttl</span> <span class=o>=</span> <span class=n>ttl</span>

    <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>get</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order_id</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Order</span><span class=p>]:</span>
        <span class=n>key</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;order:</span><span class=si>{</span><span class=n>order_id</span><span class=si>}</span><span class=s2>&quot;</span>
        <span class=n>data</span> <span class=o>=</span> <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>redis</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>

        <span class=k>if</span> <span class=n>data</span><span class=p>:</span>
            <span class=k>return</span> <span class=n>Order</span><span class=o>.</span><span class=n>parse_raw</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
        <span class=k>return</span> <span class=kc>None</span>

    <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>set</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order</span><span class=p>:</span> <span class=n>Order</span><span class=p>):</span>
        <span class=n>key</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;order:</span><span class=si>{</span><span class=n>order</span><span class=o>.</span><span class=n>id</span><span class=si>}</span><span class=s2>&quot;</span>
        <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>redis</span><span class=o>.</span><span class=n>setex</span><span class=p>(</span>
            <span class=n>key</span><span class=p>,</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>ttl</span><span class=p>,</span>
            <span class=n>order</span><span class=o>.</span><span class=n>json</span><span class=p>()</span>
        <span class=p>)</span>

    <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>invalidate</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order_id</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
        <span class=n>key</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;order:</span><span class=si>{</span><span class=n>order_id</span><span class=si>}</span><span class=s2>&quot;</span>
        <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>redis</span><span class=o>.</span><span class=n>delete</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
</code></pre></div> <h3 id=7-performance-optimization>7. Performance Optimization<a class=headerlink href=#7-performance-optimization title="Permanent link">&para;</a></h3> <h4 id=database-query-optimization>Database Query Optimization<a class=headerlink href=#database-query-optimization title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>OptimizedOrderQueries</span><span class=p>:</span>
    <span class=nd>@staticmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>get_orders_with_items</span><span class=p>(</span><span class=n>db</span><span class=p>:</span> <span class=n>Database</span><span class=p>,</span> <span class=n>filters</span><span class=p>:</span> <span class=n>OrderFilters</span><span class=p>):</span>
        <span class=c1># Use single query with joins instead of N+1</span>
        <span class=n>query</span> <span class=o>=</span> <span class=s2>&quot;&quot;&quot;</span>
<span class=s2>        SELECT </span>
<span class=s2>            o.*,</span>
<span class=s2>            json_agg(</span>
<span class=s2>                json_build_object(</span>
<span class=s2>                    &#39;id&#39;, oi.id,</span>
<span class=s2>                    &#39;menu_item_id&#39;, oi.menu_item_id,</span>
<span class=s2>                    &#39;quantity&#39;, oi.quantity,</span>
<span class=s2>                    &#39;price&#39;, oi.price,</span>
<span class=s2>                    &#39;modifiers&#39;, oi.modifiers</span>
<span class=s2>                ) ORDER BY oi.id</span>
<span class=s2>            ) as items</span>
<span class=s2>        FROM orders o</span>
<span class=s2>        LEFT JOIN order_items oi ON o.id = oi.order_id</span>
<span class=s2>        WHERE o.tenant_id = :tenant_id</span>
<span class=s2>        &quot;&quot;&quot;</span>

        <span class=c1># Add dynamic filters</span>
        <span class=k>if</span> <span class=n>filters</span><span class=o>.</span><span class=n>status</span><span class=p>:</span>
            <span class=n>query</span> <span class=o>+=</span> <span class=s2>&quot; AND o.status = :status&quot;</span>
        <span class=k>if</span> <span class=n>filters</span><span class=o>.</span><span class=n>date_from</span><span class=p>:</span>
            <span class=n>query</span> <span class=o>+=</span> <span class=s2>&quot; AND o.created_at &gt;= :date_from&quot;</span>

        <span class=n>query</span> <span class=o>+=</span> <span class=s2>&quot; GROUP BY o.id ORDER BY o.created_at DESC&quot;</span>

        <span class=k>return</span> <span class=n>db</span><span class=o>.</span><span class=n>fetch_all</span><span class=p>(</span><span class=n>query</span><span class=p>,</span> <span class=n>filters</span><span class=o>.</span><span class=n>dict</span><span class=p>())</span>
</code></pre></div> <h4 id=async-processing>Async Processing<a class=headerlink href=#async-processing title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><span class=nd>@app</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;/api/v1/orders&quot;</span><span class=p>)</span>
<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>create_order</span><span class=p>(</span><span class=n>order_data</span><span class=p>:</span> <span class=n>OrderCreate</span><span class=p>):</span>
    <span class=c1># Quick validation and order creation</span>
    <span class=n>order</span> <span class=o>=</span> <span class=k>await</span> <span class=n>order_service</span><span class=o>.</span><span class=n>create_order</span><span class=p>(</span><span class=n>order_data</span><span class=p>)</span>

    <span class=c1># Async tasks for non-critical operations</span>
    <span class=n>background_tasks</span><span class=o>.</span><span class=n>add_task</span><span class=p>(</span>
        <span class=n>inventory_service</span><span class=o>.</span><span class=n>reserve_items</span><span class=p>,</span>
        <span class=n>order</span><span class=o>.</span><span class=n>items</span>
    <span class=p>)</span>

    <span class=n>background_tasks</span><span class=o>.</span><span class=n>add_task</span><span class=p>(</span>
        <span class=n>notification_service</span><span class=o>.</span><span class=n>send_confirmation</span><span class=p>,</span>
        <span class=n>order</span>
    <span class=p>)</span>

    <span class=n>background_tasks</span><span class=o>.</span><span class=n>add_task</span><span class=p>(</span>
        <span class=n>analytics_service</span><span class=o>.</span><span class=n>track_order</span><span class=p>,</span>
        <span class=n>order</span>
    <span class=p>)</span>

    <span class=k>return</span> <span class=n>order</span>
</code></pre></div> <h3 id=8-monitoring-and-observability>8. Monitoring and Observability<a class=headerlink href=#8-monitoring-and-observability title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=c1># Metrics collection</span>
<span class=kn>from</span><span class=w> </span><span class=nn>prometheus_client</span><span class=w> </span><span class=kn>import</span> <span class=n>Counter</span><span class=p>,</span> <span class=n>Histogram</span><span class=p>,</span> <span class=n>Gauge</span>

<span class=n>order_created_counter</span> <span class=o>=</span> <span class=n>Counter</span><span class=p>(</span>
    <span class=s1>&#39;orders_created_total&#39;</span><span class=p>,</span>
    <span class=s1>&#39;Total number of orders created&#39;</span><span class=p>,</span>
    <span class=p>[</span><span class=s1>&#39;order_type&#39;</span><span class=p>,</span> <span class=s1>&#39;location&#39;</span><span class=p>]</span>
<span class=p>)</span>

<span class=n>order_processing_time</span> <span class=o>=</span> <span class=n>Histogram</span><span class=p>(</span>
    <span class=s1>&#39;order_processing_seconds&#39;</span><span class=p>,</span>
    <span class=s1>&#39;Time spent processing orders&#39;</span><span class=p>,</span>
    <span class=p>[</span><span class=s1>&#39;operation&#39;</span><span class=p>]</span>
<span class=p>)</span>

<span class=n>active_orders_gauge</span> <span class=o>=</span> <span class=n>Gauge</span><span class=p>(</span>
    <span class=s1>&#39;orders_active&#39;</span><span class=p>,</span>
    <span class=s1>&#39;Number of active orders&#39;</span><span class=p>,</span>
    <span class=p>[</span><span class=s1>&#39;status&#39;</span><span class=p>]</span>
<span class=p>)</span>

<span class=c1># Usage</span>
<span class=nd>@order_processing_time</span><span class=o>.</span><span class=n>labels</span><span class=p>(</span><span class=n>operation</span><span class=o>=</span><span class=s1>&#39;create&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
<span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>create_order</span><span class=p>(</span><span class=n>order_data</span><span class=p>:</span> <span class=n>OrderCreate</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Order</span><span class=p>:</span>
    <span class=n>order</span> <span class=o>=</span> <span class=k>await</span> <span class=n>process_order</span><span class=p>(</span><span class=n>order_data</span><span class=p>)</span>

    <span class=n>order_created_counter</span><span class=o>.</span><span class=n>labels</span><span class=p>(</span>
        <span class=n>order_type</span><span class=o>=</span><span class=n>order</span><span class=o>.</span><span class=n>order_type</span><span class=p>,</span>
        <span class=n>location</span><span class=o>=</span><span class=n>order</span><span class=o>.</span><span class=n>location_id</span>
    <span class=p>)</span><span class=o>.</span><span class=n>inc</span><span class=p>()</span>

    <span class=n>active_orders_gauge</span><span class=o>.</span><span class=n>labels</span><span class=p>(</span>
        <span class=n>status</span><span class=o>=</span><span class=n>order</span><span class=o>.</span><span class=n>status</span>
    <span class=p>)</span><span class=o>.</span><span class=n>inc</span><span class=p>()</span>

    <span class=k>return</span> <span class=n>order</span>
</code></pre></div> <h3 id=9-security-considerations>9. Security Considerations<a class=headerlink href=#9-security-considerations title="Permanent link">&para;</a></h3> <h4 id=input-validation>Input Validation<a class=headerlink href=#input-validation title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>OrderValidator</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=nf>validate_order_items</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>items</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>OrderItemCreate</span><span class=p>]):</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>items</span><span class=p>:</span>
            <span class=k>raise</span> <span class=n>ValidationError</span><span class=p>(</span><span class=s2>&quot;Order must contain at least one item&quot;</span><span class=p>)</span>

        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>items</span><span class=p>)</span> <span class=o>&gt;</span> <span class=n>MAX_ITEMS_PER_ORDER</span><span class=p>:</span>
            <span class=k>raise</span> <span class=n>ValidationError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Order cannot exceed </span><span class=si>{</span><span class=n>MAX_ITEMS_PER_ORDER</span><span class=si>}</span><span class=s2> items&quot;</span><span class=p>)</span>

        <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>items</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>item</span><span class=o>.</span><span class=n>quantity</span> <span class=o>&lt;=</span> <span class=mi>0</span><span class=p>:</span>
                <span class=k>raise</span> <span class=n>ValidationError</span><span class=p>(</span><span class=s2>&quot;Item quantity must be positive&quot;</span><span class=p>)</span>

            <span class=k>if</span> <span class=n>item</span><span class=o>.</span><span class=n>quantity</span> <span class=o>&gt;</span> <span class=n>MAX_ITEM_QUANTITY</span><span class=p>:</span>
                <span class=k>raise</span> <span class=n>ValidationError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Item quantity cannot exceed </span><span class=si>{</span><span class=n>MAX_ITEM_QUANTITY</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</code></pre></div> <h4 id=authorization>Authorization<a class=headerlink href=#authorization title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>OrderAuthorization</span><span class=p>:</span>
    <span class=k>def</span><span class=w> </span><span class=nf>can_view_order</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>user</span><span class=p>:</span> <span class=n>User</span><span class=p>,</span> <span class=n>order</span><span class=p>:</span> <span class=n>Order</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
        <span class=c1># Admin can view all orders</span>
        <span class=k>if</span> <span class=n>user</span><span class=o>.</span><span class=n>role</span> <span class=o>==</span> <span class=n>UserRole</span><span class=o>.</span><span class=n>ADMIN</span><span class=p>:</span>
            <span class=k>return</span> <span class=kc>True</span>

        <span class=c1># Staff can view orders from their location</span>
        <span class=k>if</span> <span class=n>user</span><span class=o>.</span><span class=n>role</span> <span class=o>==</span> <span class=n>UserRole</span><span class=o>.</span><span class=n>STAFF</span><span class=p>:</span>
            <span class=k>return</span> <span class=n>order</span><span class=o>.</span><span class=n>location_id</span> <span class=ow>in</span> <span class=n>user</span><span class=o>.</span><span class=n>location_ids</span>

        <span class=c1># Customers can view their own orders</span>
        <span class=k>if</span> <span class=n>user</span><span class=o>.</span><span class=n>role</span> <span class=o>==</span> <span class=n>UserRole</span><span class=o>.</span><span class=n>CUSTOMER</span><span class=p>:</span>
            <span class=k>return</span> <span class=n>order</span><span class=o>.</span><span class=n>customer_id</span> <span class=o>==</span> <span class=n>user</span><span class=o>.</span><span class=n>customer_id</span>

        <span class=k>return</span> <span class=kc>False</span>
</code></pre></div> <h3 id=10-deployment-architecture>10. Deployment Architecture<a class=headerlink href=#10-deployment-architecture title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=c1># docker-compose.yml</span>
<span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s>&#39;3.8&#39;</span>

<span class=nt>services</span><span class=p>:</span>
<span class=w>  </span><span class=nt>orders-api</span><span class=p>:</span>
<span class=w>    </span><span class=nt>build</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">./modules/orders</span>
<span class=w>    </span><span class=nt>environment</span><span class=p>:</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">DATABASE_URL=postgresql://user:pass@postgres:5432/orders</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">REDIS_URL=redis://redis:6379/0</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">MENU_SERVICE_URL=http://menu-api:8001</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">INVENTORY_SERVICE_URL=http://inventory-api:8003</span>
<span class=w>    </span><span class=nt>ports</span><span class=p>:</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;8002:8000&quot;</span>
<span class=w>    </span><span class=nt>depends_on</span><span class=p>:</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">postgres</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">redis</span>
<span class=w>    </span><span class=nt>deploy</span><span class=p>:</span>
<span class=w>      </span><span class=nt>replicas</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<span class=w>      </span><span class=nt>resources</span><span class=p>:</span>
<span class=w>        </span><span class=nt>limits</span><span class=p>:</span>
<span class=w>          </span><span class=nt>cpus</span><span class=p>:</span><span class=w> </span><span class=s>&#39;0.5&#39;</span>
<span class=w>          </span><span class=nt>memory</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">512M</span>
<span class=w>    </span><span class=nt>healthcheck</span><span class=p>:</span>
<span class=w>      </span><span class=nt>test</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&quot;CMD&quot;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&quot;curl&quot;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&quot;-f&quot;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&quot;http://localhost:8000/health&quot;</span><span class="p p-Indicator">]</span>
<span class=w>      </span><span class=nt>interval</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">30s</span>
<span class=w>      </span><span class=nt>timeout</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">10s</span>
<span class=w>      </span><span class=nt>retries</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
</code></pre></div> <h2 id=architecture-decision-records-adrs>Architecture Decision Records (ADRs)<a class=headerlink href=#architecture-decision-records-adrs title="Permanent link">&para;</a></h2> <h3 id=adr-001-event-driven-architecture>ADR-001: Event-Driven Architecture<a class=headerlink href=#adr-001-event-driven-architecture title="Permanent link">&para;</a></h3> <p><strong>Decision</strong>: Use event-driven architecture for order state changes <strong>Rationale</strong>: Enables real-time updates, loose coupling, and scalability</p> <h3 id=adr-002-cqrs-pattern>ADR-002: CQRS Pattern<a class=headerlink href=#adr-002-cqrs-pattern title="Permanent link">&para;</a></h3> <p><strong>Decision</strong>: Separate read and write models for orders <strong>Rationale</strong>: Optimizes performance for different access patterns</p> <h3 id=adr-003-saga-pattern-for-distributed-transactions>ADR-003: Saga Pattern for Distributed Transactions<a class=headerlink href=#adr-003-saga-pattern-for-distributed-transactions title="Permanent link">&para;</a></h3> <p><strong>Decision</strong>: Use saga pattern for multi-service operations <strong>Rationale</strong>: Maintains consistency without distributed transactions</p> <h2 id=related-documentation>Related Documentation<a class=headerlink href=#related-documentation title="Permanent link">&para;</a></h2> <ul> <li><a href=../api-reference/ >API Reference</a></li> <li>Database Schema (Coming Soon)</li> <li>Integration Guide (Coming Soon)</li> <li><a href=../../../architecture/ >Performance Guide</a></li> </ul> <hr> <p><em>Last Updated: January 2025</em></p> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> &copy; 2025 <a href=https://auratechwave.com target=_blank rel=noopener>AuraTechWave</a> </div> </div> <div class=md-social> <a href=https://github.com/AuraTechWave target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://twitter.com/auraconnect target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg> </a> <a href=https://linkedin.com/company/auratechwave target=_blank rel=noopener title=linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics checked> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">Accept</button> <label class=md-button for=__settings>Manage settings</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.indexes", "navigation.top", "navigation.path", "navigation.prune", "toc.follow", "toc.integrate", "search.suggest", "search.highlight", "search.share", "content.code.annotate", "content.code.copy", "content.tabs.link", "announce.dismiss"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"alias": true, "default": "latest", "provider": "mike"}}</script> <script src=../../../assets/javascripts/bundle.f55a23d4.min.js></script> </body> </html>